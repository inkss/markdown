---
title: 自动化博客部署
toc: true
indent: true
tag:
  - Hexo
  - Gitea
  - Github Action
categories: 教程
date: '2021-07-25 03:09'
updated: '2021-07-25 03:09'
abbrlink: 42987b6b
background: /img/article/自动化博客部署/wallhaven-48o37j.png
references:
  - title: '使用 SSH 连接到 Github'
    url: 'https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh'
  - title: '生成新 GPG 密钥'
    url: 'https://docs.github.com/cn/github/authenticating-to-github/managing-commit-signature-verification/generating-a-new-gpg-key'
  - title: '震惊！竟然有人在 GitHub 上冒充我的身份！'
    url: 'https://blog.spencerwoo.com/2020/08/wait-this-is-not-my-commit'
---

<div class="img-wrap">
  <div class="img-bg" style="background:var(--color-card)">
    <img class="img" src="../../img/article/自动化博客部署/Hexo.svg" alt="博客部署图" style="max-height: 800px;">
  </div>
  <span class="image-caption">博客部署图</span>
</div>

<!-- more -->

本文记录了 **枋柚梓的猫会发光** 的部署过程，基本概括来说就是通过 Github Action 处理代码的提交，部署博客到 Github、Gitea、OSS 中，此外还包含一些 GPG 的签名提交、自托管主机遇到的一些坑和一些其它功能的使用过程。

<br>

{% noteblock quote, 本文共包含以下内容： %}

- SSH 私钥提交
- GPG 部署与代码签名
- Github Action 基本语法规则
- Github Action 自托管主机使用
- Gitea 的 Webhook 及本地代码同步
- 利用 Gulp 批量替换静态资源访问地址
- 腾讯云 OSS 部署及 CDN 缓存刷新

{% endnoteblock %}

## 一、本地代码提交

### 使用 SSH 连接到 Github

基本流程就是：生成密钥，将公钥上传到 Github ，参考此链接操作：[使用 SSH 连接到 Github](https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh) 。

### 使用 GPG 对提交进行签名

对于 Linux 用户，系统已经默认安装了 GPG ，直接使用即可；Windows 用户可以下载 GPG 的 [命令行工具](https://www.gnupg.org/download/) ，当然最简单的还是利用 [Scoop](/page/notes/shell/#Scoop-安装、部署、下载) 安装：

```shell Windows 安装 scoop
scoop install gpg
```

安装完成之后就是生成 GPG 密钥对，生成过程参考此链接操作：[生成新 GPG 密钥](https://docs.github.com/cn/github/authenticating-to-github/managing-commit-signature-verification/generating-a-new-gpg-key) 。

------

未完待续...
